const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-recharts-iVWv7ny2.js","assets/vendor-LI3anQjP.js"])))=>i.map(i=>d[i]);
import{t as O,c as D,r as u,j as e}from"./vendor-LI3anQjP.js";import{Tooltip as I,ResponsiveContainer as G}from"./vendor-recharts-iVWv7ny2.js";const H="modulepreload",q=function(s){return"/"+s},$={},B=function(r,t,a){let o=Promise.resolve();if(t&&t.length>0){let x=function(i){return Promise.all(i.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),n=l?.nonce||l?.getAttribute("nonce");o=x(t.map(i=>{if(i=q(i),i in $)return;$[i]=!0;const m=i.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${p}`))return;const f=document.createElement("link");if(f.rel=m?"stylesheet":H,m||(f.as="script"),f.crossOrigin="",f.href=i,n&&f.setAttribute("nonce",n),document.head.appendChild(f),m)return new Promise((C,j)=>{f.addEventListener("load",C),f.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${i}`)))})}))}function h(l){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=l,window.dispatchEvent(n),!n.defaultPrevented)throw l}return o.then(l=>{for(const n of l||[])n.status==="rejected"&&h(n.reason);return r().catch(h)})};function d(...s){return O(D(s))}const N=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r}));N.displayName="Card";const w=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...r}));w.displayName="CardHeader";const k=u.forwardRef(({className:s,...r},t)=>e.jsx("h3",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",s),...r}));k.displayName="CardTitle";const _=u.forwardRef(({className:s,...r},t)=>e.jsx("p",{ref:t,className:d("text-sm text-muted-foreground",s),...r}));_.displayName="CardDescription";const L=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:d("p-6 pt-0",s),...r}));L.displayName="CardContent";const U=u.forwardRef(({className:s,...r},t)=>e.jsx("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...r}));U.displayName="CardFooter";const F={light:"",dark:".dark"},A=u.createContext(null);function K(){const s=u.useContext(A);if(!s)throw new Error("useChart must be used within a <ChartContainer />");return s}const R=u.forwardRef(({id:s,className:r,children:t,config:a,...o},h)=>{const l=u.useId(),n=`chart-${s||l.replace(/:/g,"")}`;return e.jsx(A.Provider,{value:{config:a},children:e.jsxs("div",{"data-chart":n,ref:h,className:d("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_*]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_*]:stroke-border [&_.recharts-sector]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...o,children:[e.jsx(W,{id:n,config:a}),e.jsx(G,{children:t})]})})});R.displayName="Chart";const W=({id:s,config:r})=>{const t=Object.entries(r).filter(([a,o])=>o.theme||o.color);return t.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(F).map(([a,o])=>`
${o} [data-chart=${s}] {
${t.map(([h,l])=>{const n=l.theme?.[a]||l.color;return n?`  --color-${h}: ${n};`:null}).join(`
`)}
}
`).join(`
`)}}):null},M=I,E=u.forwardRef(({active:s,payload:r,className:t,indicator:a="dot",hideLabel:o=!1,hideIndicator:h=!1,label:l,labelFormatter:n,labelClassName:x,formatter:i,color:m,nameKey:p,labelKey:f},C)=>{const{config:j}=K(),P=u.useMemo(()=>{if(o||!r?.length)return null;const[c]=r,y=`${f||c.dataKey||c.name||"value"}`,b=T(j,c,y),g=!f&&typeof l=="string"?j[l]?.label||l:b?.label;return n?e.jsx("div",{className:d("font-medium",x),children:n(g,r)}):g?e.jsx("div",{className:d("font-medium",x),children:g}):null},[l,n,r,o,x,j,f]);if(!s||!r?.length)return null;const v=r.length===1&&a!=="dot";return e.jsxs("div",{ref:C,className:d("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",t),children:[v?null:P,e.jsx("div",{className:"grid gap-1.5",children:r.map((c,y)=>{const b=`${p||c.name||c.dataKey||"value"}`,g=T(j,c,b),S=m||c.payload.fill||c.color;return e.jsx("div",{className:d("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:i&&c?.value!==void 0&&c.name?i(c.value,c.name,c,y,c.payload):e.jsxs(e.Fragment,{children:[g?.icon?e.jsx(g.icon,{}):!h&&e.jsx("div",{className:d("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":v&&a==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),e.jsxs("div",{className:d("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[v?P:null,e.jsx("span",{className:"text-muted-foreground",children:g?.label||c.name})]}),c.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:c.value.toLocaleString()})]})]})},c.dataKey)})})]})});E.displayName="ChartTooltip";const X=u.forwardRef(({className:s,hideIcon:r=!1,payload:t,verticalAlign:a="bottom",nameKey:o},h)=>{const{config:l}=K();return t?.length?e.jsx("div",{ref:h,className:d("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",s),children:t.map(n=>{const x=`${o||n.dataKey||"value"}`,i=T(l,n,x);return e.jsxs("div",{className:d("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[i?.icon&&!r?e.jsx(i.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:n.color}}),i?.label]},n.value)})}):null});X.displayName="ChartLegend";function T(s,r,t){if(typeof r!="object"||r===null)return;const a="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let o=t;return t in r&&typeof r[t]=="string"?o=r[t]:a&&t in a&&typeof a[t]=="string"&&(o=a[t]),o in s?s[o]:s[t]}function Y(){const[s,r]=u.useState(null);return u.useEffect(()=>{let t=!0;return B(()=>import("./vendor-recharts-iVWv7ny2.js"),__vite__mapDeps([0,1])).then(a=>{t&&r(a)}),()=>{t=!1}},[]),s}const z=({insights:s,formatCurrency:r=t=>`₦${Number(t||0).toLocaleString()}`})=>{const t=Y();return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(N,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Completed Transactions per Day"}),e.jsx(_,{children:"Count per day over last 14 days"})]}),e.jsxs(L,{children:[s.series.length>0?e.jsx("div",{children:t?e.jsx(R,{config:{count:{label:"Completed",color:"oklch(var(--primary))"}},className:"w-full h-72",children:e.jsxs(t.BarChart,{data:s.series,margin:{left:12,right:12},children:[e.jsx(t.CartesianGrid,{vertical:!1}),e.jsx(t.XAxis,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:24}),e.jsx(t.YAxis,{allowDecimals:!1,tickLine:!1,axisLine:!1,tickMargin:8}),e.jsx(M,{content:e.jsx(E,{})}),e.jsx(t.Bar,{dataKey:"count",radius:4,fill:"oklch(var(--primary))"})]})}):e.jsx("div",{className:"h-72 flex items-center justify-center",children:"Loading chart…"})}):e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:e.jsx("p",{children:"No data yet"})}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Total completed: ",s.totals.count]})]})]}),e.jsxs(N,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Revenue (last 14 days)"}),e.jsx(_,{children:"Sum of completed transactions per day"})]}),e.jsxs(L,{children:[t?e.jsx(R,{config:{revenue:{label:"Revenue",color:"oklch(var(--primary))"}},className:"w-full h-72",children:e.jsxs(t.LineChart,{data:s.series,margin:{left:12,right:12},children:[e.jsx(t.CartesianGrid,{vertical:!1}),e.jsx(t.XAxis,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:24}),e.jsx(t.YAxis,{tickLine:!1,axisLine:!1,tickMargin:8}),e.jsx(M,{content:e.jsx(E,{})}),e.jsx(t.Line,{type:"monotone",dataKey:"revenue",stroke:"oklch(var(--primary))",strokeWidth:2,dot:!1})]})}):e.jsx("div",{className:"h-72 flex items-center justify-center",children:"Loading chart…"}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Total: ",r(s.totals.revenue)," • ",s.totals.count," completed"]})]})]})]})},Q=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{N as C,B as _,w as a,k as b,d as c,_ as d,L as e,Q as f};
