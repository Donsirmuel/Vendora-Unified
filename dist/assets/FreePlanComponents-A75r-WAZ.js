import{r as i,j as e,b8 as m,aH as c,bx as x,aU as N}from"./vendor-LI3anQjP.js";import{u,A as y,f as b,B as o,h}from"./main-Dx6KqeX5.js";import{C as g,a as f,b as j,d as v,e as p}from"./charts_panel-DZ6GAu93.js";function C(){const{user:a}=u(),[s,n]=i.useState(null),[t,l]=i.useState(!0);return i.useEffect(()=>{a&&(async()=>{try{const d=await h.get("/api/v1/accounts/daily-usage/");n(d.data)}catch(d){console.error("Failed to fetch daily usage:",d)}finally{l(!1)}})()},[a]),t||!s||!s.is_free_plan?null:s.orders_remaining<=2&&s.orders_remaining>0?e.jsxs(y,{className:"mb-4 border-orange-200 bg-orange-50",children:[e.jsx(m,{className:"h-4 w-4 text-orange-600"}),e.jsx(b,{className:"text-orange-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["You have ",e.jsx("strong",{children:s.orders_remaining})," order",s.orders_remaining!==1?"s":""," remaining today on the Free Plan."]}),e.jsx(c,{to:"/upgrade",children:e.jsxs(o,{size:"sm",className:"ml-3",children:[e.jsx(x,{className:"h-3 w-3 mr-1"}),"Upgrade"]})})]})})]}):s.orders_remaining<=0?e.jsxs(g,{className:"mb-4 border-red-200 bg-red-50",children:[e.jsxs(f,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5 text-red-600"}),e.jsx(j,{className:"text-red-800 text-lg",children:"Daily Limit Reached"})]}),e.jsxs(v,{className:"text-red-700",children:["You've reached your daily limit of ",e.jsxs("strong",{children:[s.daily_order_limit," orders"]})," on the Free Plan."]})]}),e.jsx(p,{className:"pt-0",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("div",{className:"text-sm text-red-700 flex-1",children:"Your order count will reset tomorrow at midnight. Upgrade to a paid plan for unlimited orders."}),e.jsx(c,{to:"/upgrade",children:e.jsxs(o,{className:"w-full sm:w-auto",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Upgrade Now"]})})]})})]}):null}function F(){const{user:a}=u(),[s,n]=i.useState(null);if(i.useEffect(()=>{const l=async()=>{try{const r=await h.get("/api/v1/accounts/daily-usage/");n(r.data)}catch(r){console.error("Failed to fetch daily usage:",r)}};if(a){l();const r=setInterval(l,3e4);return()=>clearInterval(r)}},[a]),!s||!s.is_free_plan)return null;const t=s.daily_orders_count/s.daily_order_limit*100;return e.jsxs(g,{className:"mb-4",children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(j,{className:"text-sm font-medium text-muted-foreground",children:"Daily Orders (Free Plan)"}),e.jsxs("div",{className:"text-2xl font-bold",children:[s.daily_orders_count," / ",s.daily_order_limit]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Remaining"}),e.jsx("div",{className:"text-lg font-semibold text-primary",children:s.orders_remaining})]})]})}),e.jsxs(p,{className:"pt-0",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${t>=80?"bg-red-500":t>=60?"bg-orange-500":"bg-green-500"}`,style:{width:`${t}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Resets at midnight"}),e.jsx(c,{to:"/upgrade",children:e.jsxs(o,{size:"sm",variant:"outline",className:"h-6 text-xs px-2",children:[e.jsx(x,{className:"h-3 w-3 mr-1"}),"Upgrade for Unlimited"]})})]})]})]})}export{C as F,F as a};
