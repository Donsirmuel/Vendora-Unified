const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-recharts-Bhh5Wr_H.js","assets/vendor-C5ZIaFXU.js"])))=>i.map(i=>d[i]);
import{t as O,c as D,r as f,j as e}from"./vendor-C5ZIaFXU.js";import{Tooltip as I,ResponsiveContainer as G}from"./vendor-recharts-Bhh5Wr_H.js";const H="modulepreload",q=function(s){return"/"+s},$={},B=function(t,r,o){let c=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),n=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));c=Promise.allSettled(r.map(i=>{if(i=q(i),i in $)return;$[i]=!0;const d=i.endsWith(".css"),C=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${C}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":H,d||(m.as="script"),m.crossOrigin="",m.href=i,n&&m.setAttribute("nonce",n),document.head.appendChild(m),d)return new Promise((j,N)=>{m.addEventListener("load",j),m.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${i}`)))})}))}function x(a){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=a,window.dispatchEvent(n),!n.defaultPrevented)throw a}return c.then(a=>{for(const n of a||[])n.status==="rejected"&&x(n.reason);return t().catch(x)})};function u(...s){return O(D(s))}const w=f.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:u("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));w.displayName="Card";const k=f.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:u("flex flex-col space-y-1.5 p-6",s),...t}));k.displayName="CardHeader";const _=f.forwardRef(({className:s,...t},r)=>e.jsx("h3",{ref:r,className:u("text-2xl font-semibold leading-none tracking-tight",s),...t}));_.displayName="CardTitle";const L=f.forwardRef(({className:s,...t},r)=>e.jsx("p",{ref:r,className:u("text-sm text-muted-foreground",s),...t}));L.displayName="CardDescription";const R=f.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:u("p-6 pt-0",s),...t}));R.displayName="CardContent";const U=f.forwardRef(({className:s,...t},r)=>e.jsx("div",{ref:r,className:u("flex items-center p-6 pt-0",s),...t}));U.displayName="CardFooter";const F={light:"",dark:".dark"},K=f.createContext(null);function M(){const s=f.useContext(K);if(!s)throw new Error("useChart must be used within a <ChartContainer />");return s}const E=f.forwardRef(({id:s,className:t,children:r,config:o,...c},x)=>{const a=f.useId(),n=`chart-${s||a.replace(/:/g,"")}`;return e.jsx(K.Provider,{value:{config:o},children:e.jsxs("div",{"data-chart":n,ref:x,className:u("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_*]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_*]:stroke-border [&_.recharts-sector]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...c,children:[e.jsx(W,{id:n,config:o}),e.jsx(G,{children:r})]})})});E.displayName="Chart";const W=({id:s,config:t})=>{const r=Object.entries(t).filter(([o,c])=>c.theme||c.color);return r.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(F).map(([o,c])=>`
${c} [data-chart=${s}] {
${r.map(([x,a])=>{var i;const n=((i=a.theme)==null?void 0:i[o])||a.color;return n?`  --color-${x}: ${n};`:null}).join(`
`)}
}
`).join(`
`)}}):null},A=I,T=f.forwardRef(({active:s,payload:t,className:r,indicator:o="dot",hideLabel:c=!1,hideIndicator:x=!1,label:a,labelFormatter:n,labelClassName:i,formatter:d,color:C,nameKey:m,labelKey:j},N)=>{const{config:v}=M(),P=f.useMemo(()=>{var p;if(c||!(t!=null&&t.length))return null;const[l]=t,y=`${j||l.dataKey||l.name||"value"}`,g=S(v,l,y),h=!j&&typeof a=="string"?((p=v[a])==null?void 0:p.label)||a:g==null?void 0:g.label;return n?e.jsx("div",{className:u("font-medium",i),children:n(h,t)}):h?e.jsx("div",{className:u("font-medium",i),children:h}):null},[a,n,t,c,i,v,j]);if(!s||!(t!=null&&t.length))return null;const b=t.length===1&&o!=="dot";return e.jsxs("div",{ref:N,className:u("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[b?null:P,e.jsx("div",{className:"grid gap-1.5",children:t.map((l,y)=>{const g=`${m||l.name||l.dataKey||"value"}`,h=S(v,l,g),p=C||l.payload.fill||l.color;return e.jsx("div",{className:u("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",o==="dot"&&"items-center"),children:d&&(l==null?void 0:l.value)!==void 0&&l.name?d(l.value,l.name,l,y,l.payload):e.jsxs(e.Fragment,{children:[h!=null&&h.icon?e.jsx(h.icon,{}):!x&&e.jsx("div",{className:u("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":o==="dot","w-1":o==="line","w-0 border-[1.5px] border-dashed bg-transparent":o==="dashed","my-0.5":b&&o==="dashed"}),style:{"--color-bg":p,"--color-border":p}}),e.jsxs("div",{className:u("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[b?P:null,e.jsx("span",{className:"text-muted-foreground",children:(h==null?void 0:h.label)||l.name})]}),l.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:l.value.toLocaleString()})]})]})},l.dataKey)})})]})});T.displayName="ChartTooltip";const X=f.forwardRef(({className:s,hideIcon:t=!1,payload:r,verticalAlign:o="bottom",nameKey:c},x)=>{const{config:a}=M();return r!=null&&r.length?e.jsx("div",{ref:x,className:u("flex items-center justify-center gap-4",o==="top"?"pb-3":"pt-3",s),children:r.map(n=>{const i=`${c||n.dataKey||"value"}`,d=S(a,n,i);return e.jsxs("div",{className:u("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?e.jsx(d.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:n.color}}),d==null?void 0:d.label]},n.value)})}):null});X.displayName="ChartLegend";function S(s,t,r){if(typeof t!="object"||t===null)return;const o="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let c=r;return r in t&&typeof t[r]=="string"?c=t[r]:o&&r in o&&typeof o[r]=="string"&&(c=o[r]),c in s?s[c]:s[r]}function Y(){const[s,t]=f.useState(null);return f.useEffect(()=>{let r=!0;return B(()=>import("./vendor-recharts-Bhh5Wr_H.js"),__vite__mapDeps([0,1])).then(o=>{r&&t(o)}),()=>{r=!1}},[]),s}const z=({insights:s,formatCurrency:t=r=>`₦${Number(r||0).toLocaleString()}`})=>{const r=Y();return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Completed Transactions per Day"}),e.jsx(L,{children:"Count per day over last 14 days"})]}),e.jsxs(R,{children:[s.series.length>0?e.jsx("div",{children:r?e.jsx(E,{config:{count:{label:"Completed",color:"oklch(var(--primary))"}},className:"w-full h-72",children:e.jsxs(r.BarChart,{data:s.series,margin:{left:12,right:12},children:[e.jsx(r.CartesianGrid,{vertical:!1}),e.jsx(r.XAxis,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:24}),e.jsx(r.YAxis,{allowDecimals:!1,tickLine:!1,axisLine:!1,tickMargin:8}),e.jsx(A,{content:e.jsx(T,{})}),e.jsx(r.Bar,{dataKey:"count",radius:4,fill:"oklch(var(--primary))"})]})}):e.jsx("div",{className:"h-72 flex items-center justify-center",children:"Loading chart…"})}):e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:e.jsx("p",{children:"No data yet"})}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Total completed: ",s.totals.count]})]})]}),e.jsxs(w,{children:[e.jsxs(k,{children:[e.jsx(_,{children:"Revenue (last 14 days)"}),e.jsx(L,{children:"Sum of completed transactions per day"})]}),e.jsxs(R,{children:[r?e.jsx(E,{config:{revenue:{label:"Revenue",color:"oklch(var(--primary))"}},className:"w-full h-72",children:e.jsxs(r.LineChart,{data:s.series,margin:{left:12,right:12},children:[e.jsx(r.CartesianGrid,{vertical:!1}),e.jsx(r.XAxis,{dataKey:"date",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:24}),e.jsx(r.YAxis,{tickLine:!1,axisLine:!1,tickMargin:8}),e.jsx(A,{content:e.jsx(T,{})}),e.jsx(r.Line,{type:"monotone",dataKey:"revenue",stroke:"oklch(var(--primary))",strokeWidth:2,dot:!1})]})}):e.jsx("div",{className:"h-72 flex items-center justify-center",children:"Loading chart…"}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Total: ",t(s.totals.revenue)," • ",s.totals.count," completed"]})]})]})]})},Q=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{w as C,B as _,k as a,_ as b,u as c,L as d,R as e,Q as f};
