const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-CNwauifR.js","assets/charts_panel-DZ6GAu93.js","assets/vendor-LI3anQjP.js","assets/vendor-recharts-iVWv7ny2.js","assets/main-Dx6KqeX5.js","assets/main-lmyNTKHc.css","assets/orders-BTsnZsY7.js","assets/queries-B65t_KTx.js","assets/broadcast-BhQ2ULP-.js","assets/currency-CzyHyq4G.js","assets/sse-BitM5vLy.js","assets/BrandedEmptyState-3fXBKWGy.js","assets/Orders-BeTOanvE.js","assets/select-6GBzacIP.js","assets/FreePlanComponents-A75r-WAZ.js","assets/OrderDetails-BJGeQ3jw.js","assets/textarea-BkG9H_Pj.js","assets/rates-C4sKvACh.js","assets/Transactions-Bftqn3T_.js","assets/TransactionDetails-Be6UqsFk.js","assets/Settings-BbaQNJHx.js","assets/Availability-CC_qvWgN.js","assets/BroadcastMessages-CpiEhqaP.js","assets/Queries-TFIA43r_.js","assets/Upgrade-D8NbEJpl.js","assets/AdminPayments-CrOFy4SP.js"])))=>i.map(i=>d[i]);
import{c as b,_ as s}from"./charts_panel-DZ6GAu93.js";import{r as m,j as e,b$ as h,c0 as g,c1 as v,ax as I,an as T,c2 as L,c3 as R,b4 as A,b5 as D,b6 as O,br as P,c4 as V,aH as C,ak as S}from"./vendor-LI3anQjP.js";import{u as M,B as q,T as B,e as F,k as u}from"./main-Dx6KqeX5.js";const _=m.forwardRef(({className:o,...n},l)=>e.jsx(h,{ref:l,className:b("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",o),...n}));_.displayName=h.displayName;const w=m.forwardRef(({className:o,...n},l)=>e.jsx(g,{ref:l,className:b("aspect-square h-full w-full",o),...n}));w.displayName=g.displayName;const N=m.forwardRef(({className:o,...n},l)=>e.jsx(v,{ref:l,className:b("flex h-full w-full items-center justify-center rounded-full bg-muted",o),...n}));N.displayName=v.displayName;const z=()=>e.jsx("footer",{className:"w-full border-t border-border bg-card px-6 py-4 mt-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("div",{children:["Â© ",new Date().getFullYear()," Vendora"]}),e.jsx("div",{children:e.jsx("a",{className:"underline",href:"#",target:"_blank",rel:"noopener noreferrer",children:"Contact us"})})]})}),K=({children:o,title:n})=>{const l=I(),[x,p]=m.useState(!1),{user:c,logout:y}=M();m.useEffect(()=>{if(!c||typeof window>"u"||typeof Notification>"u"||Notification.permission!=="default")return;const t="vendora_push_prompted_at_v1",r=1e3*60*60*24*3;try{const a=Number(localStorage.getItem(t)||"0");if(!Number.isNaN(a)&&a>0&&Date.now()-a<r)return}catch{}return(()=>{const a=async()=>{let i=null;try{switch(i=await F({prompt:!0}),i){case"subscribed":u({title:"Notifications enabled",description:"You will now receive alerts for new activity."});break;case"permission-blocked":u({title:"Notifications blocked",description:"Enable notifications from your browser settings to receive alerts.",variant:"destructive"});break;case"prompt-required":u({title:"Enable notifications later",description:"You can turn on notifications anytime from Settings."});break;case"unsupported":u({title:"Notifications unavailable",description:"This device does not support push notifications.",variant:"destructive"});break;case"error":case"unauthenticated":u({title:"Notifications unavailable",description:"We could not enable notifications automatically. Try again from Settings.",variant:"destructive"});break;default:break}}catch{u({title:"Notifications error",description:"We could not enable notifications. Try again from Settings.",variant:"destructive"})}finally{try{localStorage.setItem(t,String(Date.now()))}catch{}}};if("requestIdleCallback"in window){const i=window.requestIdleCallback(a,{timeout:2e3});return()=>window.cancelIdleCallback?.(i)}const f=window.setTimeout(a,1800);return()=>window.clearTimeout(f)})()},[c]),m.useEffect(()=>{if(!c||typeof window>"u")return;const t="__vendora_prefetched__",r=window;if(r[t])return;const d=[()=>s(()=>import("./Dashboard-CNwauifR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])),()=>s(()=>import("./Orders-BeTOanvE.js"),__vite__mapDeps([12,2,1,3,4,5,13,6,10,9,14,11])),()=>s(()=>import("./OrderDetails-BJGeQ3jw.js"),__vite__mapDeps([15,2,1,3,4,5,13,16,6,17,9])),()=>s(()=>import("./Transactions-Bftqn3T_.js"),__vite__mapDeps([18,2,1,3,4,5,10,9,11])),()=>s(()=>import("./TransactionDetails-Be6UqsFk.js"),__vite__mapDeps([19,2,1,3,4,5,9])),()=>s(()=>import("./Settings-BbaQNJHx.js"),__vite__mapDeps([20,2,4,1,3,5,16,17,9,14,11])),()=>s(()=>import("./Availability-CC_qvWgN.js"),__vite__mapDeps([21,2,1,3,4,5,16])),()=>s(()=>import("./BroadcastMessages-CpiEhqaP.js"),__vite__mapDeps([22,2,1,3,4,5,16,13,8,11])),()=>s(()=>import("./Queries-TFIA43r_.js"),__vite__mapDeps([23,2,1,3,4,5,16,13,7,11])),()=>s(()=>import("./Upgrade-D8NbEJpl.js"),__vite__mapDeps([24,2,4,1,3,5,11])),()=>s(()=>import("./AdminPayments-CrOFy4SP.js"),__vite__mapDeps([25,2,4,1,3,5,11]))],a=()=>{if(!r[t]){r[t]=!0;for(const i of d)i().catch(()=>{})}};if("requestIdleCallback"in window){const i=window.requestIdleCallback(a,{timeout:4e3});return()=>window.cancelIdleCallback?.(i)}const f=setTimeout(a,2e3);return()=>clearTimeout(f)},[c]);const j=[{name:"Dashboard",href:"/dashboard",icon:R},{name:"Orders",href:"/orders",icon:A},{name:"Transactions",href:"/transactions",icon:D},{name:"Queries",href:"/queries",icon:O},{name:"Settings",href:"/settings",icon:P},{name:"Logout",href:"#logout",icon:V,action:"logout"}],E=t=>l.pathname===t,k=()=>{y()};return e.jsxs("div",{className:"min-h-dvh bg-background safe-pt",children:[e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:e.jsx(q,{variant:"outline",size:"icon",onClick:()=>p(!x),className:"bg-card border-border",children:x?e.jsx(T,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})}),e.jsx("div",{role:"navigation","aria-label":"Primary",className:`fixed inset-y-0 left-0 z-40 w-64 bg-card border-r border-border transform transition-transform duration-300 ease-in-out lg:translate-x-0 overflow-y-auto ${x?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full pb-6",children:[e.jsx("div",{className:"flex items-center justify-center h-16 border-b border-border",children:e.jsx("h1",{className:"text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Vendora"})}),c&&e.jsx("div",{className:"px-4 py-3 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{className:"h-10 w-10",children:(()=>{const t=c?.avatar_url,r=c.name||"",d=r.trim().split(/\s+/).filter(Boolean),a=d[0]?.[0]||"",f=d.length>1?d[d.length-1][0]:d[0]?.[1]||"",i=(a+f).toUpperCase()||"?";return e.jsxs(e.Fragment,{children:[e.jsx(w,{src:t||void 0,alt:r||"User"}),e.jsx(N,{children:i})]})})()}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-foreground",children:c.name}),e.jsx("p",{className:"text-muted-foreground",children:c.email})]}),e.jsx(B,{className:"ml-auto"})]})}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2","aria-label":"Main menu",children:j.map(t=>{const r=t.icon;return t.action==="logout"?e.jsxs("button",{onClick:()=>{p(!1),k()},className:"w-full text-left flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors text-muted-foreground hover:text-foreground hover:bg-secondary",children:[e.jsx(r,{className:"mr-3 h-5 w-5"}),t.name]},t.name):e.jsxs(C,{to:t.href,onClick:()=>p(!1),className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${E(t.href)?"bg-primary text-primary-foreground shadow-glow":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[e.jsx(r,{className:"mr-3 h-5 w-5"}),t.name]},t.name)})})]})}),x&&e.jsx("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-50 lg:hidden",onClick:()=>p(!1)}),e.jsxs("div",{className:"lg:ml-64 flex flex-col min-h-dvh",children:[n&&e.jsx("header",{className:"bg-card border-b border-border px-6 py-4",role:"banner",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:n})})}),e.jsx("main",{id:"main-content",className:"flex-1 p-6 pb-12 safe-pb",role:"main",tabIndex:-1,children:o}),e.jsx(z,{})]})]})},H=S("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q({className:o,variant:n,...l}){return e.jsx("div",{className:b(H({variant:n}),o),...l})}export{Q as B,K as L};
